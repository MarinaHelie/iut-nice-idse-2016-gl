<div id="admin" class="col-md-12">
    <div class="jumbotron">
        <h1>Administration</h1>
    </div>
    <div class="col-md-6">
        <div class="panel panel-default">
            <div class="panel-heading text-center">{{games.length}} partie{{(games.length > 1) ? 's' : ''}}</div>
            <div class="panel-body text-center" style="padding:0;">
                <table class="table" data-ng-if="games.length > 0" style="margin: 0;">
                    <tr data-ng-repeat="game in games">
                        <td>{{game.gamename}}</td>
                        <td>{{game.numberplayer}}/{{game.maxplayer}}</td>
                        <td>{{(game.state == "true") ? ('STARTED'|translate) : ((game.numberplayer == game.maxplayer) ? ('FULLPLAYERS'|translate) : ('WAITINGPLAYERS'|translate))}}</td>
                        <td>
                            <a href data-ng-click="goVisualisation(game.gamename)">
                                <i class="fa fa-eye"></i>
                            </a>
                        </td>
                        <td>
                            <a href data-confirmed-click="goDelete(game.gamename)"
                               ng-confirm-click="ÃŠtes-vous certain de vouloir supprimer cette partie ?">
                                <i class="fa fa-times"></i>
                            </a>
                        </td>
                    </tr>
                </table>
                <p style="padding: 15px;" data-ng-if="games.length == 0">{{'NOGAMESSTARTED' | translate}}</p>
            </div>
        </div>
    </div>
  <div class="col-md-6">
      <div class="panel panel-default">
          <div class="panel-heading text-center">{{'PLAYERS' | translate}}</div>
              <div class="panel-body text-center" style="padding:0;">
                  <table class="table" data-ng-if="allusers.length > 0" style="margin: 0;">
                      <tr data-ng-repeat="user in allusers">
                          <span type="hidden" ng-model="id">{{user.id}}</span>
                          <td>{{user.pseudo}}</td>
                          <td>{{user.email}}</td>
                          <td>
                            <input ng-model="banned" ng-checked="user.banned == 'true' " type="checkbox" value="true" data-ng-click="updateBannedUser()"><label style="padding-left: 3px;">{{'BANNED' | translate}}</label>
                          </td>
                        <td>
                          <select class="form-control role" ng-model="role" ng-change="updateRoleUser(role,)">
                            <option ng-selected="user.role == 3" value="3">{{'USER' | translate}}</option>
                            <option ng-selected="user.role == 4" value="4">{{'ADMIN' | translate}}</option>
                          </select>
                        </td>
                        <td>
                          <button class="btn btn-info btn-sm"
                                  data-ng-click="">
                            {{'UPDATE' | translate}}
                          </button>
                        </td>
                      </tr>
                  </table>
                  <p style="padding: 15px;" data-ng-if="allusers.length == 0">{{'NOPLAYERS' | translate}}</p>
              </div>
      </div>
  </div>
    <div class="col-md-4" data-ng-if="games.length > 0">
        <div class="panel panel-default">
            <div class="panel-heading text-center">Stats</div>
            <div class="panel-body text-center" style="padding:0;">
                <div id="piechartgames" style="width: 100%; height: 100%; background: transparent;"></div>
            </div>
        </div>
    </div>

    <div class="modal fade modalVisuGame" tabindex="-1" role="dialog" aria-labelledby="modalVisuGame">
        <div class="modal-dialog modal-md">
            <div class="modal-content text-center" style=" background-color: #327680;">
                <div class="panel panel-default">
                    <div class="panel-heading">Partie {{gameVisu.gameName}}
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><i class="fa fa-times"></i></button>
                    </div>
                    <div class="panel-body" style="background: #327680; padding: 30px 0px;">
                        <table class="table">
                            <tr data-ng-repeat="player in gameVisu.players">
                                <td>{{player}}</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
